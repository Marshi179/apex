<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes" access="global" controller="ImageController">
	<aura:attribute name="attachmentId" type="String" access="global"/>
	<aura:attribute name="loading" type="Boolean"/>
	<aura:handler name="init" value="{! this }" action="{! c.doInit }"/>
	<aura:registerEvent name="ImageDeleted" type="c:ImageDeleted"/>
	<aura:handler name="change" value="{! v.attachmentId }" action="{! c.doReload }"/>
	<div class="container">
		<img aura:id="image" src="{! '/servlet/servlet.FileDownload?file=' + v.attachmentId}" onload="{! c.onLoaded }"/>
		<aura:if isTrue="{! v.loading }">
			<lightning:spinner />
		</aura:if>
	</div>
</aura:component>